---
description: TAPI applications must gather and process a variety of session information to function properly. For example, an answer operation fails unless the session is in the &\#0034;offering&\#0034; state.
ms.assetid: 0d9ba91d-3455-4237-816f-3f0860dbfe5a
title: Session Information
ms.topic: article
ms.date: 05/31/2018
---

# Session Information

TAPI applications must gather and process a variety of session information to function properly. For example, an answer operation fails unless the session is in the "offering" state.

**TAPI 2.x:** Applications primarily use the [**lineGetCallInfo**](/windows/win32/api/tapi/nf-tapi-linegetcallinfo) function to access session information. Additional functions which manipulate session information are [**lineGetCallStatus**](/windows/win32/api/tapi/nf-tapi-linegetcallstatus), [**lineSetCallParams**](/windows/win32/api/tapi/nf-tapi-linesetcallparams), [**lineSetCallData**](/windows/win32/api/tapi/nf-tapi-linesetcalldata), [**lineSetCallTreatment**](/windows/win32/api/tapi/nf-tapi-linesetcalltreatment), [**lineSetCallPrivilege**](/windows/win32/api/tapi/nf-tapi-linesetcallprivilege), [**lineGetCallStatus**](/windows/win32/api/tapi/nf-tapi-linegetcallstatus), and [**lineSendUserUserInfo**](/windows/win32/api/tapi/nf-tapi-linesenduseruserinfo).

**TAPI 3.x:** Applications primarily use the [**ITCallInfo**](/windows/desktop/api/tapi3if/nn-tapi3if-itcallinfo) interface to access session information.



| Information                                                                  | TAPI 2.x                                                                                                                                                                                                                                                                                                                                           | TAPI 3.x                                                                                                                                                                                                                                                              |
|------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [Address type for a session](address-type-for-a-session-ovr.md)             | [**lineGetCallInfo**](/windows/win32/api/tapi/nf-tapi-linegetcallinfo), **dwAddressType** member of [**LINECALLINFO**](/windows/win32/api/tapi/ns-tapi-linecallinfo)                                                                                                                                                                                                                 | [**ITCallInfo::get\_CallInfoLong**](/windows/desktop/api/tapi3if/nf-tapi3if-itcallinfo-get_callinfolong), called with the **CIL\_CALLERIDADDRESSTYPE**, **CIL\_CALLEDIDADDRESSTYPE**, or **CIL\_CONNECTEDIDADDRESSTYPE** member of [**CALLINFO\_LONG**](/windows/desktop/api/Tapi3if/ne-tapi3if-callinfo_long).                               |
| [Application-specific information](application-specific-information-ovr.md) | [**lineGetCallInfo**](/windows/win32/api/tapi/nf-tapi-linegetcallinfo), **dwAppSpecific** member of [**LINECALLINFO**](/windows/win32/api/tapi/ns-tapi-linecallinfo)[**lineSetAppSpecific**](/windows/win32/api/tapi/nf-tapi-linesetappspecific)<br/>                                                                                                                                             | [**ITCallInfo::get\_CallInfoLong**](/windows/desktop/api/tapi3if/nf-tapi3if-itcallinfo-get_callinfolong) or [**ITCallInfo::put\_CallInfoLong**](/windows/desktop/api/tapi3if/nf-tapi3if-itcallinfo-put_callinfolong), called with the **CIL\_APPSPECIFIC** member of [**CALLINFO\_LONG**](/windows/desktop/api/Tapi3if/ne-tapi3if-callinfo_long).                                 |
| [Bearer mode](bearer-mode-ovr.md)                                           | [**lineGetCallInfo**](/windows/win32/api/tapi/nf-tapi-linegetcallinfo), **dwBearerMode** member of [**LINECALLINFO**](/windows/win32/api/tapi/ns-tapi-linecallinfo)[**lineSetCallParams**](/windows/win32/api/tapi/nf-tapi-linesetcallparams)<br/>                                                                                                                                                | [**ITCallInfo::get\_CallInfoLong**](/windows/desktop/api/tapi3if/nf-tapi3if-itcallinfo-get_callinfolong) or [**ITCallInfo::put\_CallInfoLong**](/windows/desktop/api/tapi3if/nf-tapi3if-itcallinfo-put_callinfolong), called with the **CIL\_BEARERMODE** member of [**CALLINFO\_LONG**](/windows/desktop/api/Tapi3if/ne-tapi3if-callinfo_long).                                  |
| [Call data buffer](call-data-ovr.md)                                        | [**lineGetCallInfo**](/windows/win32/api/tapi/nf-tapi-linegetcallinfo), **dwCallDataSize** and **dwCallDataOffset** members of [**LINECALLINFO**](/windows/win32/api/tapi/ns-tapi-linecallinfo)[**lineSetCallData**](/windows/win32/api/tapi/nf-tapi-linesetcalldata)<br/>                                                                                                                        | [**ITCallInfo::GetCallInfoBuffer**](/windows/desktop/api/tapi3if/nf-tapi3if-itcallinfo-getcallinfobuffer), called with the **CIB\_CALLDATABUFFER** member of [**CALLINFO\_BUFFER**](/windows/desktop/api/Tapi3if/ne-tapi3if-callinfo_buffer)                                                                                                  |
| [Call ID](call-id-ovr.md)                                                   | [**lineGetCallInfo**](/windows/win32/api/tapi/nf-tapi-linegetcallinfo), **dwCallID** member of [**LINECALLINFO**](/windows/win32/api/tapi/ns-tapi-linecallinfo)                                                                                                                                                                                                                      | [**ITCallInfo::get\_CallInfoLong**](/windows/desktop/api/tapi3if/nf-tapi3if-itcallinfo-get_callinfolong), called with the **CIL\_CALLID** member of [**CALLINFO\_LONG**](/windows/desktop/api/Tapi3if/ne-tapi3if-callinfo_long).                                                                                                              |
| [Called Identification](called-identification-ovr.md)                       | [**lineGetCallInfo**](/windows/win32/api/tapi/nf-tapi-linegetcallinfo) with **dwCalledIDSize**, **dwCalledIDOffset**, **dwCalledIDNameSize**, **dwCalledIDNameOffset**, and **dwCallDataOffset** members of [**LINECALLINFO**](/windows/win32/api/tapi/ns-tapi-linecallinfo)                                                                                                         | [**ITCallInfo::get\_CallInfoString**](/windows/desktop/api/tapi3if/nf-tapi3if-itcallinfo-get_callinfostring) or [**ITCallInfo::put\_CallInfoString**](/windows/desktop/api/tapi3if/nf-tapi3if-itcallinfo-put_callinfostring), called with the **CIS\_CALLINGPARTYID** member of [**CALLINFO\_STRING**](/windows/desktop/api/Tapi3if/ne-tapi3if-callinfo_string).                  |
| Called party friendly name                                                   | NA                                                                                                                                                                                                                                                                                                                                                 | [**ITCallInfo::get\_CallInfoString**](/windows/desktop/api/tapi3if/nf-tapi3if-itcallinfo-get_callinfostring) or [**ITCallInfo::put\_CallInfoString**](/windows/desktop/api/tapi3if/nf-tapi3if-itcallinfo-put_callinfostring), called with the **CIS\_CALLEDPARTYFRIENDLYNAME** member of [**CALLINFO\_STRING**](/windows/desktop/api/Tapi3if/ne-tapi3if-callinfo_string).         |
| [Caller Identification](caller-identification-ovr.md)                       | [**lineGetCallInfo**](/windows/win32/api/tapi/nf-tapi-linegetcallinfo) with **dwCallerIDSize**, **dwCallerIDOffset**, **dwCallerIDNameSize**, and **dwCallerIDNameOffset**, members of [**LINECALLINFO**](/windows/win32/api/tapi/ns-tapi-linecallinfo)                                                                                                                              | [**ITCallInfo::get\_CallInfoString**](/windows/desktop/api/tapi3if/nf-tapi3if-itcallinfo-get_callinfostring), called with the **CIS\_CALLERIDNAME**, **CIS\_CALLERIDNUMBER**, **CIS\_CALLEDIDNAME**, or **CIS\_CALLEDIDNUMBER** member of [**CALLINFO\_STRING**](/windows/desktop/api/Tapi3if/ne-tapi3if-callinfo_string).                    |
| [**CallHub interface pointer**](/windows/desktop/api/tapi3if/nn-tapi3if-itcallhub)                               | NA                                                                                                                                                                                                                                                                                                                                                 | [**ITCallInfo::get\_CallHub**](/windows/desktop/api/tapi3if/nf-tapi3if-itcallinfo-get_callhub)[**ITTAPI::EnumerateCallHubs**](/windows/desktop/api/tapi3if/nf-tapi3if-ittapi-enumeratecallhubs)<br/>                                                                                                                                    |
| [Charging information](charging-information-ovr.md)                         | [**lineGetCallInfo**](/windows/win32/api/tapi/nf-tapi-linegetcallinfo), **dwChargingInfoSize** and **dwChargingInfoOffset** members of [**LINECALLINFO**](/windows/win32/api/tapi/ns-tapi-linecallinfo).                                                                                                                                                                             | [**ITCallInfo::GetCallInfoBuffer**](/windows/desktop/api/tapi3if/nf-tapi3if-itcallinfo-getcallinfobuffer), called with the **CIB\_CHARGINGINFOBUFFER** member of [**CALLINFO\_BUFFER**](/windows/desktop/api/Tapi3if/ne-tapi3if-callinfo_buffer)                                                                                              |
| [Comment](comment-ovr.md)                                                   | [**lineGetCallInfo**](/windows/win32/api/tapi/nf-tapi-linegetcallinfo), **dwCommentSize** and **dwCommentOffset** members of [**LINECALLINFO**](/windows/win32/api/tapi/ns-tapi-linecallinfo).                                                                                                                                                                                       | [**ITCallInfo::get\_CallInfoString**](/windows/desktop/api/tapi3if/nf-tapi3if-itcallinfo-get_callinfostring) or [**ITCallInfo::put\_CallInfoString**](/windows/desktop/api/tapi3if/nf-tapi3if-itcallinfo-put_callinfostring), called with the **CIS\_COMMENT** member of [**CALLINFO\_STRING**](/windows/desktop/api/Tapi3if/ne-tapi3if-callinfo_string).                         |
| [Compatibility buffer](compatibility-buffer-ovr.md)                         | [**lineGetCallInfo**](/windows/win32/api/tapi/nf-tapi-linegetcallinfo), **dwHighLevelCompSize**, **dwHighLevelCompOffset**, **dwLowLevelCompSize**, or **dwLowLevelCompOffset** members of [**LINECALLINFO**](/windows/win32/api/tapi/ns-tapi-linecallinfo).                                                                                                                         | [**ITCallInfo::GetCallInfoBuffer**](/windows/desktop/api/tapi3if/nf-tapi3if-itcallinfo-getcallinfobuffer), called with the **CIB\_HIGHLEVELCOMPATIBILITYBUFFER** or **CIB\_LOWLEVELCOMPATIBILITYBUFFER** member of [**CALLINFO\_BUFFER**](/windows/desktop/api/Tapi3if/ne-tapi3if-callinfo_buffer)                                            |
| [Completion ID](completion-id-ovr.md)                                       | [**lineGetCallInfo**](/windows/win32/api/tapi/nf-tapi-linegetcallinfo), **dwCompletionID** member of [**LINECALLINFO**](/windows/win32/api/tapi/ns-tapi-linecallinfo)                                                                                                                                                                                                                | [**ITCallInfo::get\_CallInfoLong**](/windows/desktop/api/tapi3if/nf-tapi3if-itcallinfo-get_callinfolong), called with the **CIL\_COMPLETIONID** member of [**CALLINFO\_LONG**](/windows/desktop/api/Tapi3if/ne-tapi3if-callinfo_long).                                                                                                        |
| [Connected Identification](connected-identification-ovr.md)                 | [**lineGetCallInfo**](/windows/win32/api/tapi/nf-tapi-linegetcallinfo), **dwConnectedIDSize**, **dwConnectedIDOffset**, **dwConnectedIDNameSize**, or **dwConnectedIDNameOffset** member of [**LINECALLINFO**](/windows/win32/api/tapi/ns-tapi-linecallinfo)                                                                                                                         | [**ITCallInfo::get\_CallInfoString**](/windows/desktop/api/tapi3if/nf-tapi3if-itcallinfo-get_callinfostring), called with the **CIS\_CONNECTEDIDNAME** or **CIS\_CONNECTEDIDNUMBER** member of [**CALLINFO\_STRING**](/windows/desktop/api/Tapi3if/ne-tapi3if-callinfo_string).                                                               |
| [Country or Region code](country-code-ovr.md)                               | [**lineGetCallInfo**](/windows/win32/api/tapi/nf-tapi-linegetcallinfo),**dwCountryCode** member of [**LINECALLINFO**](/windows/win32/api/tapi/ns-tapi-linecallinfo)                                                                                                                                                                                                                  | [**ITCallInfo::get\_CallInfoLong**](/windows/desktop/api/tapi3if/nf-tapi3if-itcallinfo-get_callinfolong) or [**ITCallInfo::put\_CallInfoLong**](/windows/desktop/api/tapi3if/nf-tapi3if-itcallinfo-put_callinfolong), called with the **CIL\_COUNTRYCODE** member of [**CALLINFO\_LONG**](/windows/desktop/api/Tapi3if/ne-tapi3if-callinfo_long).                                 |
| [Device-specific buffer](device-specific-buffer-ovr.md)                     | [**lineGetCallInfo**](/windows/win32/api/tapi/nf-tapi-linegetcallinfo), **dwDevSpecificSize** and **dwDevSpecificOffset** members of [**LINECALLINFO**](/windows/win32/api/tapi/ns-tapi-linecallinfo)                                                                                                                                                                                | [**ITCallInfo::GetCallInfoBuffer**](/windows/desktop/api/tapi3if/nf-tapi3if-itcallinfo-getcallinfobuffer), called with the **CIB\_DEVSPECIFICBUFFER** member of [**CALLINFO\_BUFFER**](/windows/desktop/api/Tapi3if/ne-tapi3if-callinfo_buffer)                                                                                               |
| [Displayable address](displayable-address-ovr.md)                           | [**lineGetCallInfo**](/windows/win32/api/tapi/nf-tapi-linegetcallinfo), **dwDisplayableAddressSize** and **dwDisplayableAddressOffset** members of [**LINECALLINFO**](/windows/win32/api/tapi/ns-tapi-linecallinfo)                                                                                                                                                                  | [**ITCallInfo::get\_CallInfoString**](/windows/desktop/api/tapi3if/nf-tapi3if-itcallinfo-get_callinfostring) or [**ITCallInfo::put\_CallInfoString**](/windows/desktop/api/tapi3if/nf-tapi3if-itcallinfo-put_callinfostring), called with the **CIS\_DISPLAYABLEADDRESS** member of [**CALLINFO\_STRING**](/windows/desktop/api/Tapi3if/ne-tapi3if-callinfo_string).              |
| [Media type for a session](media-type-ovr.md)                               | [**lineGetCallInfo**](/windows/win32/api/tapi/nf-tapi-linegetcallinfo), **dwMediaMode** member of [**LINECALLINFO**](/windows/win32/api/tapi/ns-tapi-linecallinfo)                                                                                                                                                                                                                   | [**ITCallInfo::get\_CallInfoLong**](/windows/desktop/api/tapi3if/nf-tapi3if-itcallinfo-get_callinfolong), called with the **CIL\_MEDIATYPESAVAILABLE** member of [**CALLINFO\_LONG**](/windows/desktop/api/Tapi3if/ne-tapi3if-callinfo_long).                                                                                                 |
| [Origin](origin-ovr.md)                                                     | [**lineGetCallInfo**](/windows/win32/api/tapi/nf-tapi-linegetcallinfo), **dwOrigin** member of [**LINECALLINFO**](/windows/win32/api/tapi/ns-tapi-linecallinfo)                                                                                                                                                                                                                      | [**ITCallInfo::get\_CallInfoLong**](/windows/desktop/api/tapi3if/nf-tapi3if-itcallinfo-get_callinfolong), called with the **CIL\_ORIGIN** member of [**CALLINFO\_LONG**](/windows/desktop/api/Tapi3if/ne-tapi3if-callinfo_long).                                                                                                              |
| [Parameter flags](parameter-flags-ovr.md)                                   | [**lineGetCallInfo**](/windows/win32/api/tapi/nf-tapi-linegetcallinfo), **dwCallParamFlags** member of [**LINECALLINFO**](/windows/win32/api/tapi/ns-tapi-linecallinfo)[**lineSetCallParams**](/windows/win32/api/tapi/nf-tapi-linesetcallparams)<br/>                                                                                                                                            | [**ITCallInfo::get\_CallInfoLong**](/windows/desktop/api/tapi3if/nf-tapi3if-itcallinfo-get_callinfolong) or [**ITCallInfo::put\_CallInfoLong**](/windows/desktop/api/tapi3if/nf-tapi3if-itcallinfo-put_callinfolong), called with the **CIL\_CALLPARAMSFLAGS** member of [**CALLINFO\_LONG**](/windows/desktop/api/Tapi3if/ne-tapi3if-callinfo_long).                             |
| [Privilege](privilege-ovr.md)                                               | [**lineGetCallStatus**](/windows/win32/api/tapi/nf-tapi-linegetcallstatus), **dwCallPrivilege** member of [**LINECALLSTATUS**](/windows/win32/api/tapi/ns-tapi-linecallstatus)[**lineSetCallPrivilege**](/windows/win32/api/tapi/nf-tapi-linesetcallprivilege)<br/>                                                                                                                               | [**ITCallInfo::get\_Privilege**](/windows/desktop/api/tapi3if/nf-tapi3if-itcallinfo-get_privilege) or [**ITCallInfo::get\_CallInfoLong**](/windows/desktop/api/tapi3if/nf-tapi3if-itcallinfo-get_callinfolong), called with the **CIL\_NUMBEROFOWNERS** or **CIL\_NUMBEROFMONITORS** member of [**CALLINFO\_LONG**](/windows/desktop/api/Tapi3if/ne-tapi3if-callinfo_long).       |
| [Quality of Service](quality-of-service-ovr.md)                             | [**lineSetCallQualityOfService**](/windows/win32/api/tapi/nf-tapi-linesetcallqualityofservice), [**lineGetCallInfo**](/windows/win32/api/tapi/nf-tapi-linegetcallinfo), **dwSendingFlowspecSize**, **dwSendingFlowspecOffset**, **dwReceivingFlowspecSize**, and **dwReceivingFlowspecOffset** members of [**LINECALLPARAMS**](/windows/win32/api/tapi/ns-tapi-linecallparams)                          | [**ITBasicCallControl::SetQOS**](/windows/desktop/api/tapi3if/nf-tapi3if-itbasiccallcontrol-setqos), [**ITQOSEvent**](/windows/desktop/api/tapi3if/nn-tapi3if-itqosevent)                                                                                                                                                                     |
| [Rate](rate-ovr.md)                                                         | [**lineGetCallInfo**](/windows/win32/api/tapi/nf-tapi-linegetcallinfo), **dwRate** member of [**LINECALLINFO**](/windows/win32/api/tapi/ns-tapi-linecallinfo)[**lineSetCallParams**](/windows/win32/api/tapi/nf-tapi-linesetcallparams)<br/>                                                                                                                                                      | [**ITCallInfo::get\_CallInfoLong**](/windows/desktop/api/tapi3if/nf-tapi3if-itcallinfo-get_callinfolong) or [**ITCallInfo::put\_CallInfoLong**](/windows/desktop/api/tapi3if/nf-tapi3if-itcallinfo-put_callinfolong), called with the **CIL\_MAXRATE**, **CIL\_MINRATE**, or **CIL\_RATE** member of [**CALLINFO\_LONG**](/windows/desktop/api/Tapi3if/ne-tapi3if-callinfo_long). |
| [Reason](reason-ovr.md)                                                     | [**lineGetCallInfo**](/windows/win32/api/tapi/nf-tapi-linegetcallinfo), **dwReason** member of [**LINECALLINFO**](/windows/win32/api/tapi/ns-tapi-linecallinfo)                                                                                                                                                                                                                      | [**ITCallInfo::get\_CallInfoLong**](/windows/desktop/api/tapi3if/nf-tapi3if-itcallinfo-get_callinfolong), called with the **CIL\_REASON** member of [**CALLINFO\_LONG**](/windows/desktop/api/Tapi3if/ne-tapi3if-callinfo_long).                                                                                                              |
| [Redirect Identifcation](redirect-identification-ovr.md)                    | [**lineGetCallInfo**](/windows/win32/api/tapi/nf-tapi-linegetcallinfo), **dwRedirectionIDSize**, **dwRedirectionIDOffset**, **dwRedirectionIDNameSize**, **dwRedirectionIDNameOffset**, **dwRedirectingIDSize**, **dwRedirectingIDOffset**, **dwRedirectingIDNameSize**, or **dwRedirectingIDNameOffset** member of [**LINECALLINFO**](/windows/win32/api/tapi/ns-tapi-linecallinfo) | [**ITCallInfo::get\_CallInfoString**](/windows/desktop/api/tapi3if/nf-tapi3if-itcallinfo-get_callinfostring) called with the **CIS\_REDIRECTIONIDNAME**, **CIS\_REDIRECTIONIDNUMBER**, **CIS\_REDIRECTINGIDNAME**, or **CIS\_REDIRECTINGIDNUMBER** member of [**CALLINFO\_STRING**](/windows/desktop/api/Tapi3if/ne-tapi3if-callinfo_string). |
| [State](state-ovr.md)                                                       | [**lineGetCallStatus**](/windows/win32/api/tapi/nf-tapi-linegetcallstatus), **dwCallState** member of [**LINECALLSTATUS**](/windows/win32/api/tapi/ns-tapi-linecallstatus).                                                                                                                                                                                                          | [**ITCallInfo::get\_CallState**](/windows/desktop/api/tapi3if/nf-tapi3if-itcallinfo-get_callstate)                                                                                                                                                                                                        |
| [Treatment](treatment-ovr.md)                                               | [**lineGetCallInfo**](/windows/win32/api/tapi/nf-tapi-linegetcallinfo), **dwCallTreatment** member of [**LINECALLINFO**](/windows/win32/api/tapi/ns-tapi-linecallinfo)[**lineSetCallTreatment**](/windows/win32/api/tapi/nf-tapi-linesetcalltreatment)<br/>                                                                                                                                       | [**ITCallInfo::get\_CallInfoLong**](/windows/desktop/api/tapi3if/nf-tapi3if-itcallinfo-get_callinfolong) or [**ITCallInfo::put\_CallInfoLong**](/windows/desktop/api/tapi3if/nf-tapi3if-itcallinfo-put_callinfolong), called with the **CIL\_CALLTREATMENT** member of [**CALLINFO\_LONG**](/windows/desktop/api/Tapi3if/ne-tapi3if-callinfo_long).                               |
| [Trunk](trunk-ovr.md)                                                       | [**lineGetCallInfo**](/windows/win32/api/tapi/nf-tapi-linegetcallinfo), **dwTrunk** member of [**LINECALLINFO**](/windows/win32/api/tapi/ns-tapi-linecallinfo)                                                                                                                                                                                                                       | [**ITCallInfo::get\_CallInfoLong**](/windows/desktop/api/tapi3if/nf-tapi3if-itcallinfo-get_callinfolong), called with the **CIL\_TRUNK** member of [**CALLINFO\_LONG**](/windows/desktop/api/Tapi3if/ne-tapi3if-callinfo_long).                                                                                                               |
| [User/user information](user-user-information-ovr.md)                       | [**lineGetCallInfo**](/windows/win32/api/tapi/nf-tapi-linegetcallinfo), **dwCallDataSize** and **dwCallDataOffset** members of [**LINECALLINFO**](/windows/win32/api/tapi/ns-tapi-linecallinfo)[**lineSendUserUserInfo**](/windows/win32/api/tapi/nf-tapi-linesenduseruserinfo)<br/>                                                                                                              | [**ITCallInfo::GetCallInfoBuffer**](/windows/desktop/api/tapi3if/nf-tapi3if-itcallinfo-getcallinfobuffer), called with the **CIB\_USERUSERINFO** member of [**CALLINFO\_BUFFER**](/windows/desktop/api/Tapi3if/ne-tapi3if-callinfo_buffer) and [**ITCallInfo::ReleaseUserUserInfo**](/windows/desktop/api/tapi3if/nf-tapi3if-itcallinfo-releaseuseruserinfo).                     |



 

 

