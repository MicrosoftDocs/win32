---
description: The SNMP compiler runs as a single executable file in the command-line mode.
ms.assetid: 0e85fe84-dacb-4720-8242-ffa0046780f3
ms.tgt_platform: multiple
title: smi2smir
ms.topic: article
ms.date: 05/31/2018
---

# smi2smir

The SNMP compiler runs as a single executable file in the command-line mode. The compiler accepts one SNMP information module as input, and accepts any additional modules necessary to resolve external references. Use one of the following command-line syntax examples.

For more information about when this compiler is used, see [Setting up the WMI SNMP Environment](setting-up-the-wmi-snmp-environment.md).

``` syntax
smi2smir [<DiagnosticArgs>] [<VersionArgs>]
     <CommandArgs> <MIB file> [<Import Files>]

smi2smir [<DiagnosticArgs>] <RegistryArgs> [<Directory>]

smi2smir <ModuleInfoArgs> <MIB file>

smi2smir <HelpArgs>
```

## Switches

<dl> <dt>

<span id="_DiagnosticArgs_"></span><span id="_diagnosticargs_"></span><span id="_DIAGNOSTICARGS_"></span><*DiagnosticArgs*>
</dt> <dd>

The compiler accepts the following diagnostic arguments.

<dl> <dt>

<span id="_m__diagnostic-level_"></span><span id="_M__DIAGNOSTIC-LEVEL_"></span>**/m** **<***diagnostic-level***>**
</dt> <dd>

Type of diagnostics to display. The default is 2.

The following is a list of the diagnostic level values that can be set:

-   0 = Silent
-   1 = Fatal
-   2 = Fatal and warning
-   3 = Fatal, warning, and information messages

</dd> <dt>

<span id="_c__count_"></span><span id="_C__COUNT_"></span>**/c** **<***count***>**
</dt> <dd>

Maximum number of fatal and warning messages to display; *count* must be a positive decimal integer. If **/c** is not specified, there is no limit to the number of errors that can be reported.

</dd> </dl> </dd> <dt>

<span id="_VersionArgs_"></span><span id="_versionargs_"></span><span id="_VERSIONARGS_"></span><*VersionArgs*>
</dt> <dd>

The compiler accepts the following version arguments.

<dl> <dt>

<span id="_v1"></span><span id="_V1"></span>**/v1**
</dt> <dd>

Specifies strict conformance to the SNMPv1 SMI. The compiler reports an error if it detects non-SNMPv1 statements.

</dd> <dt>

<span id="_v2c"></span><span id="_V2C"></span>**/v2c**
</dt> <dd>

Specifies strict conformance to the SNMPv2 SMI. The compiler reports an error if it detects non-SNMPv2 statements.

</dd> </dl> </dd> <dt>

<span id="_CommandArgs_"></span><span id="_commandargs_"></span><span id="_COMMANDARGS_"></span><*CommandArgs*>
</dt> <dd>

The compiler accepts the following command arguments.

<dl> <dt>

<span id="_d"></span><span id="_D"></span>**/d**
</dt> <dd>

Deletes the specified module from the SMIR.

</dd> <dt>

<span id="_p"></span><span id="_P"></span>**/p**
</dt> <dd>

Deletes all modules in the SMIR.

</dd> <dt>

<span id="_l"></span><span id="_L"></span>**/l**
</dt> <dd>

Lists all modules in the SMIR.

</dd> <dt>

<span id="_lc"></span><span id="_LC"></span>**/lc**
</dt> <dd>

Performs a local syntax check on the module.

</dd> <dt>

<span id="_ec___CommandModifier__"></span><span id="_ec___commandmodifier__"></span><span id="_EC___COMMANDMODIFIER__"></span>**/ec** **\[<***CommandModifier***>\]**
</dt> <dd>

Performs local and external checks on the module.

</dd> <dt>

<span id="_a__CommandModifier__"></span><span id="_a__commandmodifier__"></span><span id="_A__COMMANDMODIFIER__"></span>**/a\[<***CommandModifier***>\]**
</dt> <dd>

Performs local and external checks and loads the module into the SMIR.

</dd> <dt>

<span id="_sa__CommandModifier__"></span><span id="_sa__commandmodifier__"></span><span id="_SA__COMMANDMODIFIER__"></span>**/sa\[<***CommandModifier***>\]**
</dt> <dd>

Same as **/a**, but works silently.

</dd> <dt>

<span id="_g__CommandModifier__"></span><span id="_g__commandmodifier__"></span><span id="_G__COMMANDMODIFIER__"></span>**/g\[<***CommandModifier***>\]**
</dt> <dd>

Generates a SMIR .mof file that you can later load into WMI using the MOF compiler. Used by the SNMP class provider to provide classes dynamically to one or more namespaces. Use this option when you do not know which MIBs are supported by the SNMP devices being managed. The SNMP class provider checks the device at runtime for the presence of this MIB and supplies the classes dynamically to the namespace.

</dd> <dt>

<span id="_gc__CommandModifier__"></span><span id="_gc__commandmodifier__"></span><span id="_GC__COMMANDMODIFIER__"></span>**/gc\[<***CommandModifier***>\]**
</dt> <dd>

Generates a static .mof file that can be loaded later into WMI as static classes for a particular namespace. Use this option when you know which MIBs are supported by the SNMP devices being managed. You can define the .mof file to be generated by directing the output of your command to a specified file. Do not use with **/ext/o**.

</dd> </dl> </dd> <dt>

<span id="_CommandModifiers_"></span><span id="_commandmodifiers_"></span><span id="_COMMANDMODIFIERS_"></span><*CommandModifiers*>
</dt> <dd>

The compiler accepts the following command modifiers.

<dl> <dt>

<span id="_i_directory_"></span><span id="_I_DIRECTORY_"></span>**/i<***directory***>**
</dt> <dd>

Specifies a directory to be searched for dependent MIB modules. Use with **/a**, **/ec**, **/g**, **/gc**, and **/sa**. The **/i** option can appear multiple times in the command; directories are searched in the order specified in the command.

</dd> <dt>

<span id="_ch"></span><span id="_CH"></span>**/ch**
</dt> <dd>

Generates context information, such as the date, time, host, or user, in the MOF file header. Use with **/g** and **/gc**.

</dd> <dt>

<span id="_t"></span><span id="_T"></span>**/t**
</dt> <dd>

Generates [SnmpNotification](snmpnotification.md) classes. Use with **/a**, **/g**, and **/sa**.

</dd> <dt>

<span id="_ext"></span><span id="_EXT"></span>**/ext**
</dt> <dd>

Generates [SnmpExtendedNotification](snmpextendednotification.md) classes. Use with **/a**, **/g**, and **/sa**.

</dd> <dt>

<span id="_t_o"></span><span id="_T_O"></span>**/t/o**
</dt> <dd>

Generates only [SnmpNotification](snmpnotification.md) classes. Use with **/a**, **/g**, and **/sa**.

</dd> <dt>

<span id="_ext_o"></span><span id="_EXT_O"></span>**/ext/o**
</dt> <dd>

Generates only [SnmpExtendedNotification](snmpextendednotification.md) classes. Use with **/a**, **/g**, and **/sa**.

</dd> <dt>

<span id="_s"></span><span id="_S"></span>**/s**
</dt> <dd>

Does not map the text of the DESCRIPTION clause. Use with **/a**, **/g**, **/gc**, and **/sa**. Use this option when you want to minimize storage requirements.

</dd> <dt>

<span id="_auto"></span><span id="_AUTO"></span>**/auto**
</dt> <dd>

Rebuilds the MIB lookup table before completing the <*CommandArg*> switch. Use with **/a**, **/ec**, **/g**, and **/gc**.

</dd> </dl> </dd> <dt>

<span id="_RegistryArgs_"></span><span id="_registryargs_"></span><span id="_REGISTRYARGS_"></span><*RegistryArgs*>
</dt> <dd>

The compiler accepts the following registry arguments.

<dl> <dt>

<span id="_pa"></span><span id="_PA"></span>**/pa**
</dt> <dd>

Adds the specified directory to the registry. The default is the current directory.

</dd> <dt>

<span id="_pd"></span><span id="_PD"></span>**/pd**
</dt> <dd>

Deletes the specified directory from the registry. The default is the current directory.

</dd> <dt>

<span id="_pl"></span><span id="_PL"></span>**/pl**
</dt> <dd>

Lists the MIB lookup directories in the registry.

</dd> <dt>

<span id="_r"></span><span id="_R"></span>**/r**
</dt> <dd>

Rebuilds the entire MIB lookup table.

</dd> </dl> </dd> <dt>

<span id="_ModuleInfoArgs_"></span><span id="_moduleinfoargs_"></span><span id="_MODULEINFOARGS_"></span><*ModuleInfoArgs*>
</dt> <dd>

The compiler accepts the following module information arguments.

<dl> <dt>

<span id="_n"></span><span id="_N"></span>**/n**
</dt> <dd>

Returns the ASN.1 name of the specified module.

</dd> <dt>

<span id="_ni"></span><span id="_NI"></span>**/ni**
</dt> <dd>

Returns the ASN.1 names of all import modules referred to by the input module.

</dd> </dl> </dd> <dt>

<span id="_HelpArgs_"></span><span id="_helpargs_"></span><span id="_HELPARGS_"></span><*HelpArgs*>
</dt> <dd>

The compiler accepts the following help arguments.

<dl> <dt>

<span id="_h"></span><span id="_H"></span>**/h**
</dt> <dd>

Displays help on the SNMP compiler syntax.

</dd> <dt>

<span id="__"></span>**/?**
</dt> <dd>

Displays help on the SNMP compiler syntax.

</dd> </dl> </dd> </dl>

## Remarks

SNMP information modules are written in a subset of the Abstract Syntax Notation One (ASN.1) The compiler performs the following functions:

-   Loads the data from the SNMP information module.
-   Performs checking operations on the information module. For example, it checks the local syntax and it checks external references against information in the subsidiary modules.
-   Removes all previously loaded data from the SMIR, or removes data loaded from one information module.
-   Returns the ASN.1 module name of a specified file or returns the ASN.1 module names of all imported modules in a specified file.
-   Returns the ASN.1 module names of all SNMP information modules currently loaded in the SMIR.
-   Performs automatic resolution of imported modules rather than requiring users to specify the required modules manually.
-   Performs a silent-loading mode of operation that does not generate any output, but can be used to load data into the SMIR during an installation operation.
-   Outputs the data from the SNMP information module into the SMIR.
-   Optionally creates a static or SMIR MOF file containing the output from the information module.

    If necessary, you can load the static .mof file into a WMI namespace. A SMIR .mof file contains the name of the SNMP namespace in which the classes should reside.

## Examples

The following example defines the pra.mof file to be the output from the pra.mib file.

``` syntax
smi2smir /m 3 /v1 /gc /pra.mib > pra.mof
```

## Requirements



| Requirement | Value |
|-------------------------------------|--------------------------------|
| Minimum supported client<br/> | Windows Vista<br/>       |
| Minimum supported server<br/> | Windows Server 2008<br/> |



## See also

<dl> <dt>

[SNMP Compiler Error Messages](snmp-compiler-error-messages.md)
</dt> <dt>

[Setting up the WMI SNMP Environment](setting-up-the-wmi-snmp-environment.md)
</dt> <dt>

[Accessing SNMP Devices](accessing-snmp-devices.md)
</dt> </dl>

 

 




