---
description: Each server can set a MachineID registry key value in the registry that gets set as a fixed part of the session ID.
ms.assetid: 1B373496-1C1B-4D4B-8CAC-B572C58E43A2
title: Load balancing using Schannel
ms.topic: article
ms.date: 05/31/2018
---

# Load balancing using Schannel

Each server can set a MachineID registry key value in the registry that gets set as a fixed part of the session ID. The MachineID registry key is a **REG\_DWORD** value type. The load balancer can use this part of the session ID to determine which server has generated the SSL session and can maintain the map to that server. The session ID is part of the SSL/TLS handshake that is sent over the wire. The load balancer code should be using the second **DWORD** in the session ID when resuming or reconnecting to the client. The second **DWORD** of the random session ID generated by an Schannel server is replaced by the **DWORD** stored in the registry. The registry value for the **DWORD** cannot be 0xffffffff.

The registry key value is as follows.

```
HKEY_LOCAL_MACHINE
   SYSTEM
      CurrentControlSet
         Control
            SecurityProviders
               SCHANNEL
                  MachineID<dl>
<dt>

                  Data type
</dt>
<dd>                  REG_DWORD</dd>
</dl>
```

 

 



