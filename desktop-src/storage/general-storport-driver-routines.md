---
title: General Storport Driver Routines
description: General Storport Driver Routines
ms.assetid: '12DC349E-8839-422C-AC00-403366366C64'
---

# General Storport Driver Routines

## 

This section lists the general support routines supplied by the Storport driver.

## In this section



| Topic                                                                                               | Description                                                                                                                                                                                                                                                                                                                                                                                      |
|-----------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [**StorPortDebugPrint**](storportdebugprint.md)<br/>                                         | The **StorPortDebugPrint** routine prints a debug string to the kernel debugger, if the debugger is attached.<br/>                                                                                                                                                                                                                                                                         |
| [**StorPortEtwEvent2**](storportetwevent2.md)<br/>                                           | The **StorPortEtwEvent2** publishes an Event Tracing for Windows (ETW) event to a storage trace channel. The miniport can log two general purpose ETW parameters. The ETW parameters are expressed as two name-value pairs.<br/>                                                                                                                                                           |
| [**StorPortEtwEvent4**](storportetwevent4.md)<br/>                                           | The **StorPortEtwEvent4** publishes an Event Tracing for Windows (ETW) event to a storage trace channel. The miniport can log four general purpose ETW parameters. The ETW parameters are expressed as four name-value pairs.<br/>                                                                                                                                                         |
| [**StorPortEtwEvent8**](storportetwevent8.md)<br/>                                           | The **StorPortEtwEvent8** publishes an Event Tracing for Windows (ETW) event to a storage trace channel. The miniport can log eight general purpose ETW parameters. The ETW parameters are expressed as eight name-value pairs.<br/>                                                                                                                                                       |
| [**StorPortGetActivityIdSrb**](storportgetactivityidsrb.md)<br/>                             | Retrieves the Event Tracing for Windows (ETW) activity ID associated with a request block.<br/>                                                                                                                                                                                                                                                                                            |
| [**StorPortGetDeviceObjects**](storportgetdeviceobjects.md)<br/>                             | The **StorPortGetDeviceObjects** routine returns the device objects that are associated with the adapter device stack. The device objects that will be returned are the functional and physical device objects of the adapter and the device object to which the functional device object is attached. <br/>                                                                               |
| [**StorPortGetRequestCryptoInfo**](storportgetrequestcryptoinfo.md)<br/>                     | Reserved for system use.<br/>                                                                                                                                                                                                                                                                                                                                                              |
| [**StorPortGetSystemPortNumber**](storportgetsystemportnumber.md)<br/>                       | The **StorPortGetSystemPortNumber** routine retrieves the system assigned port number for a storage adapter.<br/>                                                                                                                                                                                                                                                                          |
| [**StorPortInitializeCryptoEngine**](storportinitializecryptoengine.md)<br/>                 | Reserved for system use.<br/>                                                                                                                                                                                                                                                                                                                                                              |
| [**StorPortInitializeListHead**](storportinitializelisthead.md)<br/>                         | The **StorPortInitializeListHead** routine initializes a [**STOR\_LIST\_ENTRY**](https://msdn.microsoft.com/library/windows/hardware/mt790432) structure that represents the head of a doubly linked list.<br/>                                                                                                                                                                                                                 |
| [**StorPortInitializeSListHead**](storportinitializeslisthead.md)<br/>                       | Initializes the head of a Storport managed singly linked list.<br/>                                                                                                                                                                                                                                                                                                                        |
| [**StorPortInitializeSpinlock**](storportinitializespinlock.md)<br/>                         | The **StorPortInitializeSpinLock** routine initializes a variable of type **STOR\_KSPIN\_LOCK**.<br/>                                                                                                                                                                                                                                                                                      |
| [**StorPortInterlockedFlushSList**](storportinterlockedflushslist.md)<br/>                   | Removes all items from a Storport managed singly linked list. Access to the list is synchronized on a multiprocessor system<br/>                                                                                                                                                                                                                                                           |
| [**StorPortInterlockedInsertHeadList**](storportinterlockedinsertheadlist.md)<br/>           | The StorPortInterlockedInsertHeadList routine atomically inserts an entry at the beginning of a doubly linked list of [**STOR\_LIST\_ENTRY**](https://msdn.microsoft.com/library/windows/hardware/mt790432) structures<br/>                                                                                                                                                                                                     |
| [**StorPortInterlockedInsertTailList**](storportinterlockedinserttaillist.md)<br/>           | The **StorPortInterlockedInsertTailList** routine atomically inserts an entry at the end of a doubly linked list of [**STOR\_LIST\_ENTRY**](https://msdn.microsoft.com/library/windows/hardware/mt790432) structures.<br/>                                                                                                                                                                                                      |
| [**StorPortInterlockedPopEntrySList**](storportinterlockedpopentryslist.md)<br/>             | Removes an item from the front of a Storport managed singly linked list. Access to the list is synchronized on a multiprocessor system. Syntax<br/>                                                                                                                                                                                                                                        |
| [**StorPortInterlockedPushEntrySList**](storportinterlockedpushentryslist.md)<br/>           | Inserts an item at the front of a Storport managed singly linked list. Access to the list is synchronized on a multiprocessor system.<br/>                                                                                                                                                                                                                                                 |
| [**StorPortInterlockedRemoveHeadList**](storportinterlockedremoveheadlist.md)<br/>           | The StorPortInterlockedRemoveHeadList routine removes an entry from the beginning of a doubly linked list of [**STOR\_LIST\_ENTRY**](https://msdn.microsoft.com/library/windows/hardware/mt790432) structures. <br/>                                                                                                                                                                                                            |
| [**StorPortInvokeAcpiMethod**](storportinvokeacpimethod.md)<br/>                             | The [**StorPortInvokeAcpiMethod**](storportinvokeacpimethod.md) routine executes an ACPI method for a storage device.<br/>                                                                                                                                                                                                                                                                |
| [**StorPortIsCurrentOsInstallationUpgrade**](storportiscurrentosinstallationupgrade.md)<br/> | The **StorPortIsCurrentOsInstallationUpgrade** routine checks if the current installation of Windows is an upgrade from a previous version or not.<br/>                                                                                                                                                                                                                                    |
| [**StorPortIsDeviceOperationAllowed**](storportisdeviceoperationallowed.md)<br/>             | A miniport driver can call the **StorPortIsDeviceOperationAllowedminiport** routine to determine if operations for a certain device management class are allowed.<br/>                                                                                                                                                                                                                     |
| [**StorPortLogError**](storportlogerror.md)<br/>                                             | The [**StorPortLogError**](storportlogerror.md) routine notifies the port driver that an error occurred. <br/>                                                                                                                                                                                                                                                                            |
| [**StorPortLogSystemEvent**](storportlogsystemevent.md)<br/>                                 | The StorPortLogSystemEvent routine gives miniport drivers full access to the capabilities of the Windows kernel event facility, enabling miniport drivers to create event log entries that are truly useful in troubleshooting storage issues. It provides a better alternative to the existing miniport driver event logging function, [**StorPortLogError**](storportlogerror.md).<br/> |
| [**StorPortQueryDepthSList**](storportquerydepthslist.md)<br/>                               | Retrieves the number of entries in a Storport managed singly linked list.<br/>                                                                                                                                                                                                                                                                                                             |
| [**StorPortQueryPerformanceCounter**](storportqueryperformancecounter.md)<br/>               | The current system performance counter value is queried is returned by the **StorPortQueryPerformanceCounter** routine.<br/>                                                                                                                                                                                                                                                               |
| [**StorPortQuerySystemTime**](storportquerysystemtime.md)<br/>                               | The **StoriPortQuerySystemTime** routine obtains the current system time.<br/>                                                                                                                                                                                                                                                                                                             |
| [**StorPortRegistryRead**](storportregistryread.md)<br/>                                     | The **StorPortRegistryRead** routine reads the registry data for the indicated device and value. <br/>                                                                                                                                                                                                                                                                                     |
| [**StorPortRegistryReadAdapterKey**](storportregistryreadadapterkey.md)<br/>                 | The [**StorPortRegistryReadAdapterKey**](storportregistryreadadapterkey.md) routine is called by the miniport driver to read the hardware or device registry adapter keys located in registry at HKLM/CurrentControlSet/Enum/&lt;Instance path&gt;/DeviceParameters/... these keys are read from in the [**INF DDInstall.HW Section**](https://msdn.microsoft.com/library/windows/hardware/ff547330).<br/>            |
| [**StorPortRegistryWrite**](storportregistrywrite.md)<br/>                                   | The **StorPortRegistryWrite** routine is called by the miniport driver to convert the registry data contained in a specified buffer from ASCII to Unicode and to then write the data to the miniport driver's per-HBA storage area.<br/>                                                                                                                                                   |
| [**StorPortRegistryWriteAdapterKey**](storportregistrywriteadapterkey.md)<br/>               | The [**StorPortRegistryWriteAdapterKey**](storportregistrywriteadapterkey.md) routine is called by the miniport driver to write the hardware or device registry adapter keys located in registry at HKLM/CurrentControlSet/Enum/&lt;Instance path&gt;/DeviceParameters/... these keys are written at in the [**INF DDInstall.HW Section**](https://msdn.microsoft.com/library/windows/hardware/ff547330).<br/>        |



 

 

 

[Send comments about this topic to Microsoft](mailto:wsddocfb@microsoft.com?subject=Documentation%20feedback%20%5Bstorage\storage%5D:%20General%20Storport%20Driver%20Routines%20%20RELEASE:%20%283/29/2018%29&body=%0A%0APRIVACY%20STATEMENT%0A%0AWe%20use%20your%20feedback%20to%20improve%20the%20documentation.%20We%20don't%20use%20your%20email%20address%20for%20any%20other%20purpose,%20and%20we'll%20remove%20your%20email%20address%20from%20our%20system%20after%20the%20issue%20that%20you're%20reporting%20is%20fixed.%20While%20we're%20working%20to%20fix%20this%20issue,%20we%20might%20send%20you%20an%20email%20message%20to%20ask%20for%20more%20info.%20Later,%20we%20might%20also%20send%20you%20an%20email%20message%20to%20let%20you%20know%20that%20we've%20addressed%20your%20feedback.%0A%0AFor%20more%20info%20about%20Microsoft's%20privacy%20policy,%20see%20http://privacy.microsoft.com/default.aspx. "Send comments about this topic to Microsoft")





