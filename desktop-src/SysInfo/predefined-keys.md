---
description: An application must open a key before it can add data to the registry.
ms.assetid: db747656-b414-4594-ad39-6b476799060c
title: Predefined Keys
ms.topic: article
ms.date: 05/31/2018
---

# Predefined Keys

An application must open a key before it can add data to the registry. To open a key, an application must supply a handle to another key in the registry that is already open. The system defines predefined keys that are always open. Predefined keys help an application navigate in the registry and make it possible to develop tools that allow a system administrator to manipulate categories of data. Applications that add data to the registry should always work within the framework of predefined keys, so administrative tools can find and use the new data.

An application can use handles to these keys as entry points to the registry. These handles are valid for all implementations of the registry, although the use of the handles may vary from platform to platform. In addition, other predefined handles have been defined for specific platforms. The following are handles to the predefined keys.



| Handle                                              | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
|-----------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| **HKEY\_CLASSES\_ROOT**<br/>                  | Registry entries subordinate to this key define types (or classes) of documents and the properties associated with those types. Shell and COM applications use the information stored under this key.<br/> This key also provides backward compatibility with the Windows 3.1 registration database by storing information for DDE and OLE support. File viewers and user interface extensions store their OLE class identifiers in **HKEY\_CLASSES\_ROOT**, and in-process servers are registered in this key.<br/> This handle should not be used in a service or an application that impersonates different users.<br/> For more information, see [HKEY\_CLASSES\_ROOT](hkey-classes-root-key.md).<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| **HKEY\_CURRENT\_CONFIG**<br/>                | Contains information about the current hardware profile of the local computer system. The information under **HKEY\_CURRENT\_CONFIG** describes only the differences between the current hardware configuration and the standard configuration. Information about the standard hardware configuration is stored under the **Software** and **System** keys of **HKEY\_LOCAL\_MACHINE**.<br/> **HKEY\_CURRENT\_CONFIG** is an alias for **HKEY\_LOCAL\_MACHINE\\System\\CurrentControlSet\\Hardware Profiles\\Current**.<br/> For more information, see [HKEY\_CURRENT\_CONFIG](/previous-versions/windows/it-pro/windows-server-2003/cc776168(v=ws.10)).<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| **HKEY\_CURRENT\_USER**<br/>                  | Registry entries subordinate to this key define the preferences of the current user. These preferences include the settings of environment variables, data about program groups, colors, printers, network connections, and application preferences. This key makes it easier to establish the current user's settings; the key maps to the current user's branch in **HKEY\_USERS**. In **HKEY\_CURRENT\_USER**, software vendors store the current user-specific preferences to be used within their applications. Microsoft, for example, creates the **HKEY\_CURRENT\_USER\\Software\\Microsoft** key for its applications to use, with each application creating its own subkey under the **Microsoft** key.<br/> The mapping between **HKEY\_CURRENT\_USER** and **HKEY\_USERS** is per process and is established the first time the process references **HKEY\_CURRENT\_USER**. The mapping is based on the security context of the first thread to reference **HKEY\_CURRENT\_USER**. If this security context does not have a registry hive loaded in **HKEY\_USERS**, the mapping is established with **HKEY\_USERS\\.Default**. After this mapping is established it persists, even if the security context of the thread changes.<br/> All registry entries in **HKEY\_CURRENT\_USER** except those under **HKEY\_CURRENT\_USER\\Software\\Classes** are included in the per-user registry portion of a roaming user profile. To exclude other entries from a roaming user profile, store them in **HKEY\_CURRENT\_USER\_LOCAL\_SETTINGS**.<br/> This handle should not be used in a service or an application that impersonates different users. Instead, call the [**RegOpenCurrentUser**](/windows/desktop/api/Winreg/nf-winreg-regopencurrentuser) function.<br/> For more information, see [HKEY\_CURRENT\_USER](/previous-versions/windows/it-pro/windows-server-2003/cc779816(v=ws.10)).<br/> |
| **HKEY\_CURRENT\_USER\_LOCAL\_SETTINGS**<br/> | Registry entries subordinate to this key define preferences of the current user that are local to the machine. These entries are not included in the per-user registry portion of a roaming user profile. **Windows Server 2008, Windows Vista, Windows Server 2003 and Windows XP/2000:** This key is supported starting with Windows 7 and Windows Server 2008 R2.<br/> <br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| **HKEY\_LOCAL\_MACHINE**<br/>                 | Registry entries subordinate to this key define the physical state of the computer, including data about the bus type, system memory, and installed hardware and software. It contains subkeys that hold current configuration data, including Plug and Play information (the **Enum** branch, which includes a complete list of all hardware that has ever been on the system), network logon preferences, network security information, software-related information (such as server names and the location of the server), and other system information.<br/> For more information, see [HKEY\_LOCAL\_MACHINE](/previous-versions/windows/it-pro/windows-server-2003/cc784983(v=ws.10)).<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| **HKEY\_PERFORMANCE\_DATA**<br/>              | Registry entries subordinate to this key allow you to access performance data. The data is not actually stored in the registry; the registry functions cause the system to collect the data from its source.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| **HKEY\_PERFORMANCE\_NLSTEXT**<br/>           | Registry entries subordinate to this key reference the text strings that describe counters in the local language of the area in which the computer system is running. These entries are not available to Regedit.exe and Regedt32.exe.**Windows 2000:** This key is not supported.<br/> <br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| **HKEY\_PERFORMANCE\_TEXT**<br/>              | Registry entries subordinate to this key reference the text strings that describe counters in US English. These entries are not available to Regedit.exe and Regedt32.exe.**Windows 2000:** This key is not supported.<br/> <br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| **HKEY\_USERS**<br/>                          | Registry entries subordinate to this key define the default user configuration for new users on the local computer and the user configuration for the current user.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |



 

The [**RegOverridePredefKey**](/windows/desktop/api/Winreg/nf-winreg-regoverridepredefkey) function enables you to map a predefined registry key to a specified key in the registry. For instance, a software installation program could remap a predefined key before installing a DLL component. This enables the installation program to easily examine the information that the DLL's installation procedure writes to the predefined key.

The [**RegDisablePredefinedCache**](/windows/desktop/api/Winreg/nf-winreg-regdisablepredefinedcache) and [**RegDisablePredefinedCacheEx**](/windows/desktop/api/Winreg/nf-winreg-regdisablepredefinedcacheex) functions disable handle caching for predefined registry handles. Services that use impersonation should call **RegDisablePredefinedCacheEx** before using predefined registry handles.

The predefined handles are not thread safe. Closing a predefined handle in one thread affects any other threads that are using the handle.

 

