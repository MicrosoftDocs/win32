---
description: This section describes messages and message queues and how to use them in your applications.
ms.assetid: 'vs|winui|~\winui\windowsuserinterface\windowing\messagesandmessagequeues.htm'
title: Messages and Message Queues
ms.topic: article
ms.date: 05/31/2018
---

# Messages and Message Queues

This section describes messages and message queues and how to use them in your applications.

### In This Section



| Name                                                                       | Description                                                                                                                                |
|----------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------|
| [About Messages and Message Queues](about-messages-and-message-queues.md) | This section discusses Windows messages and message queues.<br/>                                                                     |
| [Using Messages and Message Queues](using-messages-and-message-queues.md) | The following code examples demonstrate how to perform the following tasks associated with Windows messages and message queues.<br/> |
| [Message Reference](message-and-message-queue-reference.md)               | Contains the API reference.<br/>                                                                                                     |



 

### System-Provided Messages

For lists of the system-provided messages, see [System-Defined Messages](about-messages-and-message-queues.md).

### Message Functions



| Name                                                         | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
|--------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [**BroadcastSystemMessage**](/windows/win32/api/winuser/nf-winuser-broadcastsystemmessage)     | Sends a message to the specified recipients. The recipients can be applications, installable drivers, network drivers, system-level device drivers, or any combination of these system components. <br/> To receive additional information if the request is defined, use the [**BroadcastSystemMessageEx**](/windows/win32/api/winuser/nf-winuser-broadcastsystemmessageexa) function.<br/>                                                                                                                                                                                                                                  |
| [**BroadcastSystemMessageEx**](/windows/win32/api/winuser/nf-winuser-broadcastsystemmessageexa) | Sends a message to the specified recipients. The recipients can be applications, installable drivers, network drivers, system-level device drivers, or any combination of these system components. <br/> This function is similar to [**BroadcastSystemMessage**](/windows/win32/api/winuser/nf-winuser-broadcastsystemmessage) except that this function can return more information from the recipients.<br/>                                                                                                                                                                                                              |
| [**DispatchMessage**](/windows/win32/api/winuser/nf-winuser-dispatchmessage)                   | Dispatches a message to a window procedure. It is typically used to dispatch a message retrieved by the [**GetMessage**](/windows/win32/api/winuser/nf-winuser-getmessage) function.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| [**GetInputState**](/windows/win32/api/winuser/nf-winuser-getinputstate)                       | Determines whether there are mouse-button or keyboard messages in the calling thread's message queue. <br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| [**GetMessage**](/windows/win32/api/winuser/nf-winuser-getmessage)                             | Retrieves a message from the calling thread's message queue. The function dispatches incoming sent messages until a posted message is available for retrieval. <br/> Unlike [**GetMessage**](/windows/win32/api/winuser/nf-winuser-getmessage), the [**PeekMessage**](/windows/win32/api/winuser/nf-winuser-peekmessagea) function does not wait for a message to be posted before returning.<br/>                                                                                                                                                                                                                                                              |
| [**GetMessageExtraInfo**](/windows/win32/api/winuser/nf-winuser-getmessageextrainfo)           | Retrieves the extra message information for the current thread. Extra message information is an application- or driver-defined value associated with the current thread's message queue. <br/>                                                                                                                                                                                                                                                                                                                                                                                                   |
| [**GetMessagePos**](/windows/win32/api/winuser/nf-winuser-getmessagepos)                       | Retrieves the cursor position for the last message retrieved by the [**GetMessage**](/windows/win32/api/winuser/nf-winuser-getmessage) function. <br/> To determine the current position of the cursor, use the [**GetCursorPos**](/windows/desktop/api/winuser/nf-winuser-getcursorpos) function.<br/>                                                                                                                                                                                                                                                                                                                                                       |
| [**GetMessageTime**](/windows/win32/api/winuser/nf-winuser-getmessagetime)                     | Retrieves the message time for the last message retrieved by the [**GetMessage**](/windows/win32/api/winuser/nf-winuser-getmessage) function. The time is a long integer that specifies the elapsed time, in milliseconds, from the time the system was started to the time the message was created (that is, placed in the thread's message queue). <br/>                                                                                                                                                                                                                                                                         |
| [**GetQueueStatus**](/windows/win32/api/winuser/nf-winuser-getqueuestatus)                     | Indicates the type of messages found in the calling thread's message queue.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| [**InSendMessage**](/windows/win32/api/winuser/nf-winuser-insendmessage)                       | Determines whether the current window procedure is processing a message that was sent from another thread (in the same process or a different process) by a call to the [**SendMessage**](/windows/win32/api/winuser/nf-winuser-sendmessage) function. <br/> To obtain additional information about how the message was sent, use the [**InSendMessageEx**](/windows/win32/api/winuser/nf-winuser-insendmessageex) function.<br/>                                                                                                                                                                                                                              |
| [**InSendMessageEx**](/windows/win32/api/winuser/nf-winuser-insendmessageex)                   | Determines whether the current window procedure is processing a message that was sent from another thread (in the same process or a different process).<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| [**PeekMessage**](/windows/win32/api/winuser/nf-winuser-peekmessagea)                           | Dispatches incoming sent messages, checks the thread message queue for a posted message, and retrieves the message (if any exist).<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| [**PostMessage**](/windows/win32/api/winuser/nf-winuser-postmessagea)                           | Posts a message in the message queue associated with the thread that created the specified window and returns without waiting for the thread to process the message. <br/> To post a message in the message queue associated with a thread, use the [**PostThreadMessage**](/windows/win32/api/winuser/nf-winuser-postthreadmessagea) function.<br/>                                                                                                                                                                                                                                                                          |
| [**PostQuitMessage**](/windows/win32/api/winuser/nf-winuser-postquitmessage)                   | Indicates to the system that a thread has made a request to terminate (quit). It is typically used in response to a [**WM\_DESTROY**](wm-destroy.md) message.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                              |
| [**PostThreadMessage**](/windows/win32/api/winuser/nf-winuser-postthreadmessagea)               | Posts a message to the message queue of the specified thread. It returns without waiting for the thread to process the message.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| [**RegisterWindowMessage**](/windows/win32/api/winuser/nf-winuser-registerwindowmessagea)       | Defines a new window message that is guaranteed to be unique throughout the system. The message value can be used when sending or posting messages.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| [**ReplyMessage**](/windows/win32/api/winuser/nf-winuser-replymessage)                         | Replies to a message sent through the [**SendMessage**](/windows/win32/api/winuser/nf-winuser-sendmessage) function without returning control to the function that called **SendMessage**.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| [*SendAsyncProc*](/windows/win32/api/winuser/nc-winuser-sendasyncproc)                         | An application-defined callback function used with the [**SendMessageCallback**](/windows/win32/api/winuser/nf-winuser-sendmessagecallbacka) function. The system passes the message to the callback function after passing the message to the destination window procedure. The **SENDASYNCPROC** type defines a pointer to this callback function. [*SendAsyncProc*](/windows/win32/api/winuser/nc-winuser-sendasyncproc) is a placeholder for the application-defined function name.<br/>                                                                                                                                                                          |
| [**SendMessage**](/windows/win32/api/winuser/nf-winuser-sendmessage)                           | Sends the specified message to a window or windows. The [**SendMessage**](/windows/win32/api/winuser/nf-winuser-sendmessage) function calls the window procedure for the specified window and does not return until the window procedure has processed the message. <br/> To send a message and return immediately, use the [**SendMessageCallback**](/windows/win32/api/winuser/nf-winuser-sendmessagecallbacka) or [**SendNotifyMessage**](/windows/win32/api/winuser/nf-winuser-sendnotifymessagea) function. To post a message to a thread's message queue and return immediately, use the [**PostMessage**](/windows/win32/api/winuser/nf-winuser-postmessagea) or [**PostThreadMessage**](/windows/win32/api/winuser/nf-winuser-postthreadmessagea) function.<br/> |
| [**SendMessageCallback**](/windows/win32/api/winuser/nf-winuser-sendmessagecallbacka)           | Sends the specified message to a window or windows. It calls the window procedure for the specified window and returns immediately. After the window procedure processes the message, the system calls the specified callback function, passing the result of the message processing and an application-defined value to the callback function.<br/>                                                                                                                                                                                                                                             |
| [**SendMessageTimeout**](/windows/win32/api/winuser/nf-winuser-sendmessagetimeouta)             | Sends the specified message to one of more windows.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| [**SendNotifyMessage**](/windows/win32/api/winuser/nf-winuser-sendnotifymessagea)               | Sends the specified message to a window or windows. If the window was created by the calling thread, [**SendNotifyMessage**](/windows/win32/api/winuser/nf-winuser-sendnotifymessagea) calls the window procedure for the window and does not return until the window procedure has processed the message. If the window was created by a different thread, **SendNotifyMessage** passes the message to the window procedure and returns immediately; it does not wait for the window procedure to finish processing the message.<br/>                                                                                              |
| [**SetMessageExtraInfo**](/windows/win32/api/winuser/nf-winuser-setmessageextrainfo)           | Sets the extra message information for the current thread. Extra message information is an application- or driver-defined value associated with the current thread's message queue. An application can use the [**GetMessageExtraInfo**](/windows/win32/api/winuser/nf-winuser-getmessageextrainfo) function to retrieve a thread's extra message information.<br/>                                                                                                                                                                                                                                                                |
| [**TranslateMessage**](/windows/win32/api/winuser/nf-winuser-translatemessage)                 | Translates virtual-key messages into character messages. The character messages are posted to the calling thread's message queue, to be read the next time the thread calls the [**GetMessage**](/windows/win32/api/winuser/nf-winuser-getmessage) or [**PeekMessage**](/windows/win32/api/winuser/nf-winuser-peekmessagea) function.<br/>                                                                                                                                                                                                                                                                                                                            |
| [**WaitMessage**](/windows/win32/api/winuser/nf-winuser-waitmessage)                           | Yields control to other threads when a thread has no other messages in its message queue. The [**WaitMessage**](/windows/win32/api/winuser/nf-winuser-waitmessage) function suspends the thread and does not return until a new message is placed in the thread's message queue.<br/>                                                                                                                                                                                                                                                                                                                                              |



 

### Message Constants



| Name                             | Description                                                                    |
|----------------------------------|--------------------------------------------------------------------------------|
| [**OCM\_\_BASE**](ocm--base.md) | Used to define private messages for use by private window classes. <br/> |
| [**WM\_APP**](wm-app.md)        | Used to define private messages. <br/>                                   |
| [**WM\_USER**](wm-user.md)      | Used todefine private messages for use by private window classes. <br/>  |



 

### Message Structures



| Name                       | Description                                                                                                                              |
|----------------------------|------------------------------------------------------------------------------------------------------------------------------------------|
| [**BSMINFO**](/windows/win32/api/winuser/ns-winuser-bsminfo) | Contains information about a window that denied a request from [**BroadcastSystemMessageEx**](/windows/win32/api/winuser/nf-winuser-broadcastsystemmessageexa). <br/> |
| [**MSG**](/windows/win32/api/winuser/ns-winuser-msg)         | Contains message information from a thread's message queue. <br/>                                                                  |



 

 

