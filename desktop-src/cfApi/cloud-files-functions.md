---
description: The following functions are used in creating and maintaining placeholder files and directories.
ms.assetid: 68B667E2-E8C6-41F9-A0E2-C8CDF60D6472
title: Cloud Filter Functions
ms.topic: article
ms.date: 05/31/2018
---

# Cloud Filter Functions

The following functions are used in creating and maintaining placeholder files and directories.

## In this section



| Topic                                                                                                  | Description                                                                                                                                                                                                          |
|--------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [**CfCloseHandle**](/windows/desktop/api/cfapi/nf-cfapi-cfclosehandle)<br/>                                                 | Closes the file or directory handle returned by [**CfOpenFileWithOplock**](/windows/desktop/api/cfapi/nf-cfapi-cfopenfilewithoplock). This should not be used with standard Win32 file handles, only on handles used within CfApi.h.<br/> |
| [**CfConnectSyncRoot**](/windows/desktop/api/cfapi/nf-cfapi-cfconnectsyncroot)<br/>                                         | Initiates bi-directional communication between a sync provider and the sync filter API.<br/>                                                                                                                   |
| [**CfConvertToPlaceholder**](/windows/desktop/api/cfapi/nf-cfapi-cfconverttoplaceholder)<br/>                               | Converts a normal file/directory to a placeholder file/directory.<br/>                                                                                                                                         |
| [**CfCreatePlaceholders**](/windows/desktop/api/cfapi/nf-cfapi-cfcreateplaceholders)<br/>                                   | Creates one or more new placeholder files or directories under a sync root tree.<br/>                                                                                                                          |
| [**CfDisconnectSyncRoot**](/windows/desktop/api/cfapi/nf-cfapi-cfdisconnectsyncroot)<br/>                                   | Disconnects a communication channel created by [**CfConnectSyncRoot**](/windows/desktop/api/cfapi/nf-cfapi-cfconnectsyncroot).<br/>                                                                                                       |
| [**CfExecute**](/windows/desktop/api/cfapi/nf-cfapi-cfexecute)<br/>                                                         | The main entry point for all connection key based placeholder operations. It is intended to be used by a sync provider to respond to various callbacks from the platform.<br/>                                 |
| [**CfGetCorrelationVector**](/windows/desktop/api/cfapi/nf-cfapi-cfgetcorrelationvector)<br/>                               | Allows the sync provider to query the current correlation vector for a given placeholder file.<br/>                                                                                                            |
| [**CfGetPlaceholderInfo**](/windows/desktop/api/cfapi/nf-cfapi-cfgetplaceholderinfo)<br/>                                   | Gets various characteristics of a placeholder file or folder.<br/>                                                                                                                                             |
| [**CfGetPlaceholderRangeInfo**](/windows/desktop/api/cfapi/nf-cfapi-cfgetplaceholderrangeinfo)<br/>                         | Gets range information about a placeholder file or folder.<br/>                                                                                                                                                |
| [**CfGetPlaceholderStateFromAttributeTag**](/windows/desktop/api/cfapi/nf-cfapi-cfgetplaceholderstatefromattributetag)<br/> | Gets a set of placeholder states based on the *FileAttributes* and *ReparseTag* values of the file.<br/>                                                                                                       |
| [**CfGetPlaceholderStateFromFileInfo**](/windows/desktop/api/cfapi/nf-cfapi-cfgetplaceholderstatefromfileinfo)<br/>         | Gets a set of placeholder states based on the various information of the file.<br/>                                                                                                                            |
| [**CfGetPlaceholderStateFromFindData**](/windows/desktop/api/cfapi/nf-cfapi-cfgetplaceholderstatefromfinddata)<br/>         | Gets a set of placeholder states based on the WIN32\_FIND\_DATA structure.<br/>                                                                                                                                |
| [**CfGetPlatformInfo**](/windows/desktop/api/cfapi/nf-cfapi-cfgetplatforminfo)<br/>                                         | Gets the platform version information.<br/>                                                                                                                                                                    |
| [**CfGetSyncRootInfoByHandle**](/windows/desktop/api/cfapi/nf-cfapi-cfgetsyncrootinfobyhandle)<br/>                         | Gets various characteristics of the sync root containing a given file specified by a file handle.<br/>                                                                                                         |
| [**CfGetSyncRootInfoByPath**](/windows/desktop/api/cfapi/nf-cfapi-cfgetsyncrootinfobypath)<br/>                             | Gets various sync root information given a file under the sync root.<br/>                                                                                                                                      |
| [**CfGetTransferKey**](/windows/desktop/api/cfapi/nf-cfapi-cfgettransferkey)<br/>                                           | Initiates a transfer of data into a placeholder file or folder.<br/>                                                                                                                                           |
| [**CfGetWin32HandleFromProtectedHandle**](/windows/desktop/api/cfapi/nf-cfapi-cfgetwin32handlefromprotectedhandle)<br/>     | Converts a protected handle to a Win32 handle so that it can be used with all handle-based Win32 APIs. <br/>                                                                                                   |
| [**CfHydratePlaceholder**](/windows/desktop/api/cfapi/nf-cfapi-cfhydrateplaceholder)<br/>                                   | Hydrates a placeholder file by ensuring that the specified byte range is present on-disk in the placeholder. This is valid for files only.<br/>                                                                |
| [**CfOpenFileWithOplock**](/windows/desktop/api/cfapi/nf-cfapi-cfopenfilewithoplock)<br/>                                   | Opens an asynchronous opaque handle to a file or directory (for both normal and placeholder files) and sets up a proper oplock on it based on the open flags.<br/>                                             |
| [**CfQuerySyncProviderStatus**](/windows/desktop/api/cfapi/nf-cfapi-cfquerysyncproviderstatus)<br/>                         | Queries a sync provider to get the status of the provider.<br/>                                                                                                                                                |
| [**CfReferenceProtectedHandle**](/windows/desktop/api/cfapi/nf-cfapi-cfreferenceprotectedhandle)<br/>                       | Allows the caller to reference a protected handle to a Win32 handle which can be used with non-CfApi Win32 APIs. <br/>                                                                                         |
| [**CfRegisterSyncRoot**](/windows/desktop/api/cfapi/nf-cfapi-cfregistersyncroot)<br/>                                       | Performs a one time sync root registration.<br/>                                                                                                                                                               |
| [**CfReleaseProtectedHandle**](/windows/desktop/api/cfapi/nf-cfapi-cfreleaseprotectedhandle)<br/>                           | Releases a protected handle referenced by [**CfReferenceProtectedHandle**](/windows/desktop/api/cfapi/nf-cfapi-cfreferenceprotectedhandle).<br/>                                                                                          |
| [**CfReleaseTransferKey**](/windows/desktop/api/cfapi/nf-cfapi-cfreleasetransferkey)<br/>                                   | Releases a transfer key obtained by [**CfGetTransferKey**](/windows/desktop/api/cfapi/nf-cfapi-cfgettransferkey).<br/>                                                                                                                    |
| [**CfReportProviderProgress**](/windows/desktop/api/cfapi/nf-cfapi-cfreportproviderprogress)<br/>                           | Allows a sync provider to report progress out-of-band.<br/>                                                                                                                                                    |
| [**CfReportSyncStatus**](/windows/desktop/api/cfapi/nf-cfapi-cfreportsyncstatus)<br/>                                       | Allows a sync provider to notify the platform of its status on a specified sync root without having to connect with a call to [**CfConnectSyncRoot**](/windows/desktop/api/cfapi/nf-cfapi-cfconnectsyncroot) first. <br/>                 |
| [**CfRevertPlaceholder**](/windows/desktop/api/cfapi/nf-cfapi-cfrevertplaceholder)<br/>                                     | Reverts a placeholder back to a regular file, stripping away all special characteristics such as the reparse tag, the file identity, etc.<br/>                                                                 |
| [**CfSetCorrelationVector**](/windows/desktop/api/cfapi/nf-cfapi-cfsetcorrelationvector)<br/>                               | Allows a sync provider to instruct the platform to use a specific correlation vector for telemetry purposes on a placeholder file. This is optional.<br/>                                                      |
| [**CfSetInSyncState**](/windows/desktop/api/cfapi/nf-cfapi-cfsetinsyncstate)<br/>                                           | Sets the in-sync state for a placeholder file or folder.<br/>                                                                                                                                                  |
| [**CfSetPinState**](/windows/desktop/api/cfapi/nf-cfapi-cfsetpinstate)<br/>                                                 | This sets the pin state of a placeholder, used to represent a user s intent. Any application (not just the sync provider) can call this function.<br/>                                                         |
| [**CfUnregisterSyncRoot**](/windows/desktop/api/cfapi/nf-cfapi-cfunregistersyncroot)<br/>                                   | Unregisters a previously registered sync root.<br/>                                                                                                                                                            |
| [**CfUpdatePlaceholder**](/windows/desktop/api/cfapi/nf-cfapi-cfupdateplaceholder)<br/>                                     | Updates characteristics of the placeholder file or directory.<br/>                                                                                                                                             |
| [**CfUpdateSyncProviderStatus**](/windows/desktop/api/cfapi/nf-cfapi-cfupdatesyncproviderstatus)<br/>                       | Updates the current status of the sync provider.<br/>                                                                                                                                                          |



 

 

