---
Description: A WS-Discovery message used by a client to search for services on the network by service type.
ms.assetid: a0ede1d9-2e13-4d5e-8ccd-9e0c0217cac7
title: Probe Message
ms.technology: desktop
ms.prod: windows
ms.author: windowssdkdev
ms.topic: article
ms.date: 05/31/2018
---

# Probe Message

A Probe message is a WS-Discovery message used by a client to search for services on the network by service type. For more information about Probe messages, see section 5.2 of the [WS-Discovery Specification](http://go.microsoft.com/fwlink/p/?linkid=87841).

A Probe message is sent by UDP multicast to port 3702. Unicast Probe messages are not supported.

DPWS clients send Probe messages. The following list shows scenarios in which WSDAPI will send a Probe message.

-   Function Discovery clients send Probe messages.
-   WSDAPI clients calling [**IWSDiscoveryProvider::SearchByAddress**](/windows/desktop/api/WsdDisco/nf-wsddisco-iwsdiscoveryprovider-searchbyaddress) send Probe messages.
-   WSDAPI clients calling [**IWSDiscoveryProvider::SearchByType**](/windows/desktop/api/WsdDisco/nf-wsddisco-iwsdiscoveryprovider-searchbytype) send Probe messages.
-   Applications using directed discovery send Probe messages over HTTP or HTTPS.

> [!Note]  
> This topic shows a sample DPWS message generated by WSDAPI clients and hosts. WSDAPI will parse and accept other DPWS-compliant messages that do not conform to this sample. Do not use this sample to verify DPWS interoperability; use the [WSDAPI Basic Interoperability Tool (WSDBIT)](http://go.microsoft.com/fwlink/p/?linkid=150223) instead.

 

The following SOAP message shows a sample Probe message.

``` syntax
<?xml version="1.0" encoding="utf-8" ?>
<soap:Envelope
    xmlns:soap="http://www.w3.org/2003/05/soap-envelope"
    xmlns:wsa="http://schemas.xmlsoap.org/ws/2004/08/addressing"
    xmlns:wsd="http://schemas.xmlsoap.org/ws/2005/04/discovery"
    xmlns:wsdp="http://schemas.xmlsoap.org/ws/2006/02/devprof">
<soap:Header>
    <wsa:To>
        urn:schemas-xmlsoap-org:ws:2005:04:discovery
    </wsa:To>
    <wsa:Action>
        http://schemas.xmlsoap.org/ws/2005/04/discovery/Probe
    </wsa:Action>
    <wsa:MessageID>
        urn:uuid:29cf10da-5c41-4d55-b184-5ee15e38ce23
    </wsa:MessageID>
</soap:Header>
<soap:Body>
    <wsd:Probe>
        <wsd:Types>wsdp:Device</wsd:Types>
    </wsd:Probe>
</soap:Body>
```

A Probe message has the following focus points.



<table>
<colgroup>
<col style="width: 33%" />
<col style="width: 33%" />
<col style="width: 33%" />
</colgroup>
<thead>
<tr class="header">
<th>Focus point</th>
<th>XML</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Probe</td>
<td><pre class="syntax" data-space="preserve"><code><wsa:Action&gt;
    http://schemas.xmlsoap.org/ws/2005/04/discovery/Probe
</wsa:Action&gt;</code></pre></td>
<td>The Probe SOAP action identifies the message as a Probe message.</td>
</tr>
<tr class="even">
<td>MessageID</td>
<td><pre class="syntax" data-space="preserve"><code><wsa:MessageID&gt;
    urn:uuid:29cf10da-5c41-4d55-b184-5ee15e38ce23
</wsa:MessageID&gt;</code></pre></td>
<td>Contains the message identifier, which is referenced by the RelatesTo element in a [ProbeMatches](probematches-message.md) message.</td>
</tr>
<tr class="odd">
<td>Types</td>
<td><pre class="syntax" data-space="preserve"><code><wsd:Types&gt;wsdp:Device</wsd:Types&gt;</code></pre></td>
<td>Contains the WS-Discovery types for which the client is searching. This element should not be empty.</td>
</tr>
</tbody>
</table>



 

## Related topics

<dl> <dt>

[Discovery and Metadata Exchange Messages](discovery-and-metadata-exchange-message-patterns.md)
</dt> <dt>

[ProbeMatches Message](probematches-message.md)
</dt> </dl>

 

 



