---
description: Web Services on Devices API (WSDAPI) is used to develop client applications that find and access devices, and to develop device hosts and associated services that run on Windows Vista and Windows Server 2008.
ms.assetid: 2b23d7d3-3b06-48c8-993e-49c72b139624
title: Overview of the WSDAPI Interfaces
ms.topic: article
ms.date: 05/31/2018
---

# Overview of the WSDAPI Interfaces

Web Services on Devices API (WSDAPI) is used to develop client applications that find and access devices, and to develop device hosts and associated services that run on Windows Vista and Windows Server 2008. The [Function Discovery](/previous-versions/windows/desktop/fundisc/fd-portal) API and the [WsdCodeGen](web-services-for-devices-code-generator.md) tool are supplemental tools that can be used for client, device host, and service development. The WSDAPI interfaces can be used directly to expose advanced functionality.

## Major WSDAPI interfaces

The four major WSDAPI interfaces are [**IWSDiscoveryProvider**](/windows/desktop/api/WsdDisco/nn-wsddisco-iwsdiscoveryprovider), [**IWSDiscoveryPublisher**](/windows/desktop/api/WsdDisco/nn-wsddisco-iwsdiscoverypublisher), [**IWSDDeviceProxy**](/windows/desktop/api/WsdClient/nn-wsdclient-iwsddeviceproxy), and [**IWSDDeviceHost**](/windows/desktop/api/WsdHost/nn-wsdhost-iwsddevicehost). For a list of all of the WSDAPI interfaces, see [Web Services on Devices Interfaces](web-services-for-devices-interfaces.md).

## IWSDiscoveryProvider

[**IWSDiscoveryProvider**](/windows/desktop/api/WsdDisco/nn-wsddisco-iwsdiscoveryprovider) is used to implement WS-Discovery functionality on clients.

[**IWSDiscoveryProvider**](/windows/desktop/api/WsdDisco/nn-wsddisco-iwsdiscoveryprovider) issues WS-Discovery [Probe](probe-message.md) and [Resolve](resolve-message.md) messages, and receives [Hello](hello-message.md), [Bye](bye-message.md), [ProbeMatches](probematches-message.md), and [ResolveMatches](resolvematches-message.md) messages. Use the information retrieved through the **IWSDiscoveryProvider** interface when creating an [**IWSDDeviceProxy**](/windows/desktop/api/WsdClient/nn-wsdclient-iwsddeviceproxy) interface used to describe and control a specific DPWS device.

An [**IWSDiscoveryProvider**](/windows/desktop/api/WsdDisco/nn-wsddisco-iwsdiscoveryprovider) interface is not necessary when simply resolving a particular DPWS device address before creating a device proxy. [**WSDCreateDeviceProxy**](/windows/desktop/api/WsdClient/nf-wsdclient-wsdcreatedeviceproxy) will automatically resolve the device address if required.

The [Function Discovery](/previous-versions/windows/desktop/fundisc/fd-portal) API can be used for generic device and service discovery, as the API can discover DPWS devices and also devices using other protocols. Consider using Function Discovery when writing a generic discovery application.

## IWSDiscoveryPublisher

[**IWSDiscoveryPublisher**](/windows/desktop/api/WsdDisco/nn-wsddisco-iwsdiscoverypublisher) is used to implement WS-Discovery functionality on target services, such as devices.

[**IWSDiscoveryPublisher**](/windows/desktop/api/WsdDisco/nn-wsddisco-iwsdiscoverypublisher) allows an application to publish its presence using WS-Discovery Hello and Bye messages. This interface allows an application to receive Probe and Resolve requests, and construct and send ProbeMatches and ResolveMatches responses.

An [**IWSDiscoveryPublisher**](/windows/desktop/api/WsdDisco/nn-wsddisco-iwsdiscoverypublisher) interface is not necessary when simply publishing the existence of an [**IWSDDeviceHost**](/windows/desktop/api/WsdHost/nn-wsdhost-iwsddevicehost) object. **IWSDDeviceHost** manages its own WS-Discovery presence.

## IWSDDeviceProxy

[**IWSDDeviceProxy**](/windows/desktop/api/WsdClient/nn-wsdclient-iwsddeviceproxy) is used to implement client-side WS-Discovery, WS-MetadataExchange, and control functionality. This functionality includes optional secure channel, WS-Eventing, and attachment capabilities.

The [**IWSDDeviceProxy**](/windows/desktop/api/WsdClient/nn-wsdclient-iwsddeviceproxy) interface has the following three uses.

-   Resolves logical device addresses, if necessary.
-   Initiates metadata requests to devices to enumerate the types and addresses of services.
-   Provides a source for [**IWSDServiceProxy**](/windows/desktop/api/WsdClient/nn-wsdclient-iwsdserviceproxy) objects, which can be used to issue control messages to specific services on a device.

The [**IWSDDeviceProxy**](/windows/desktop/api/WsdClient/nn-wsdclient-iwsddeviceproxy) object is typically created and used entirely inside code generated by [WsdCodeGen](web-services-for-devices-code-generator.md).

## IWSDDeviceHost

[**IWSDDeviceHost**](/windows/desktop/api/WsdHost/nn-wsdhost-iwsddevicehost) is used to implement device-side WS-Discovery, WS-MetadataExchange, and service hosting functionality. Hosted services may respond to control messages, and may support secure channel, WS-Eventing, and attachment capabilities.

The [**IWSDDeviceHost**](/windows/desktop/api/WsdHost/nn-wsdhost-iwsddevicehost) interface has the following uses.

-   Hosts service objects.
-   Announces the presence of a device host on the network using WS-Discovery.
-   Responds to WS-MetadataExchange requests and describes the types and locations of hosted services.
-   Dispatches network requests into service objects.

WS-Discovery, WS-MetadataExchange, and WS-Eventing subscription management functionality is handled entirely within the device host object. Before a service can be hosted inside a device host, the following requirements must be met.

-   The host must be created by calling [**WSDCreateDeviceHost**](/windows/desktop/api/WsdHost/nf-wsdhost-wsdcreatedevicehost).
-   The metadata associated with the service must be registered.
-   The service itself must be registered.
-   The device host must be started.

The [**IWSDDeviceHost**](/windows/desktop/api/WsdHost/nn-wsdhost-iwsddevicehost) object is typically created and used inside code generated by [WsdCodeGen](web-services-for-devices-code-generator.md).

 

 
